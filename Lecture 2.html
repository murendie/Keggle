<!DOCTYPE  html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>Python for Data Analysis</title><meta name="author" content="Oleinik, Katia"/><style type="text/css"> * {margin:0; padding:0; text-indent:0; }
 .s1 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 36pt; }
 h1 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 32pt; }
 .s2 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 32pt; }
 .s3 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 18pt; }
 .s4 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 44pt; }
 .s5 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 28pt; }
 .s6 { color: black; font-family:Arial, sans-serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 18pt; }
 .p, p { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 24pt; margin:0pt; }
 .s7 { color: black; font-family:Arial, sans-serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 28pt; }
 a { color: #0462C1; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 18pt; }
 .s9 { color: #2E5496; font-family:"Courier New", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 16pt; }
 .s10 { color: #2D75B6; font-family:"Courier New", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 18pt; }
 h3 { color: #538235; font-family:"Courier New", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 18pt; }
 .s11 { color: #3A3838; font-family:"Courier New", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 18pt; }
 .s12 { color: black; font-family:"Courier New", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 18pt; }
 .s13 { color: #3A3838; font-family:"Courier New", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 16pt; }
 .s15 { color: #538235; font-family:Arial-BoldItalicMT, sans-serif; font-style: italic; font-weight: bold; text-decoration: none; font-size: 18pt; }
 .s16 { color: #538235; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 18pt; }
 .s17 { color: #C00000; font-family:"Courier New", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 16pt; }
 .s18 { color: #7E7E7E; font-family:Arial, sans-serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 24pt; }
 .s19 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 16pt; }
 .s20 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 16pt; }
 .s21 { color: #0462C1; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 16pt; }
 .s23 { color: #538235; font-family:"Courier New", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 18pt; }
 .s24 { color: #C00000; font-family:"Courier New", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 18pt; }
 .s25 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 18pt; vertical-align: -3pt; }
 .s26 { color: #FFF; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 24pt; }
 .s27 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 18pt; }
 .s28 { color: #1F4E79; font-family:"Courier New", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 18pt; }
 .s29 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 .s30 { color: #2D75B6; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 44pt; }
 .h2 { color: #7E7E7E; font-family:Arial-BoldItalicMT, sans-serif; font-style: italic; font-weight: bold; text-decoration: none; font-size: 24pt; }
 .s32 { color: #7E7E7E; font-family:Arial, sans-serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 20pt; }
 .s33 { color: #7E7E7E; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 20pt; }
 .s34 { color: #7E7E7E; font-family:Arial, sans-serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 18pt; }
 .s35 { color: #7E7E7E; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 18pt; }
 .s36 { color: black; font-family:Arial, sans-serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 24pt; }
 .s37 { color: #888; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12pt; }
 .s38 { color: #538235; font-family:"Courier New", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 18pt; }
 .s39 { color: #2D75B6; font-family:"Courier New", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 18pt; vertical-align: -5pt; }
 .s40 { color: #2D75B6; font-family:"Courier New", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 12pt; }
 .s41 { color: #2D75B6; font-family:"Courier New", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 12pt; vertical-align: 5pt; }
 .s42 { color: #2D75B6; font-family:"Courier New", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 12pt; vertical-align: 5pt; }
 .s43 { color: black; font-family:"Courier New", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 16pt; }
 .h4 { color: #538235; font-family:"Courier New", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 16pt; }
 .s45 { color: #2E5496; font-family:"Courier New", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 16pt; }
 .s46 { color: #538235; font-family:"Courier New", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 16pt; }
 .s47 { color: #3A3838; font-family:"Courier New", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 16pt; }
 .s48 { color: #C00000; font-family:"Courier New", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 16pt; }
 li {display: block; }
 #l1 {padding-left: 0pt; }
 #l1> li>*:first-child:before {content: "• "; color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 24pt; }
 li {display: block; }
 #l2 {padding-left: 0pt; }
 #l2> li>*:first-child:before {content: " "; color: black; font-family:Wingdings; font-style: normal; font-weight: normal; text-decoration: none; font-size: 24pt; }
 li {display: block; }
 #l3 {padding-left: 0pt; }
 #l3> li>*:first-child:before {content: " "; color: black; font-family:Wingdings; font-style: normal; font-weight: normal; text-decoration: none; font-size: 24pt; }
 #l4 {padding-left: 0pt; }
 #l4> li>*:first-child:before {content: "• "; color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 24pt; }
 #l5 {padding-left: 0pt; }
 #l5> li>*:first-child:before {content: "- "; color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 24pt; }
 #l6 {padding-left: 0pt; }
 #l6> li>*:first-child:before {content: "• "; color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 24pt; }
 li {display: block; }
 #l7 {padding-left: 0pt; }
 #l7> li>*:first-child:before {content: "• "; color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 24pt; }
 #l8 {padding-left: 0pt; }
 #l8> li>*:first-child:before {content: "• "; color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 24pt; }
 table, tbody {vertical-align: top; overflow: visible; }
</style></head><body><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s1" style="padding-left: 611pt;text-indent: 0pt;line-height: 94%;text-align: left;">Introduction to Data Science</p><p style="text-indent: 0pt;text-align: left;"><br/></p><h1 style="padding-left: 611pt;text-indent: 0pt;text-align: left;">Lecture 2</h1><p class="s2" style="padding-top: 3pt;padding-left: 611pt;text-indent: 0pt;text-align: left;">29 July 2022</p><p style="text-indent: 0pt;text-align: left;"><span><img width="1280" height="720" alt="image" src="Lecture%202_files/Image_001.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s3" style="padding-top: 1pt;padding-left: 227pt;text-indent: 0pt;text-align: left;">Overview of Python Libraries for Data</p><p class="s3" style="padding-left: 227pt;text-indent: 0pt;text-align: left;">Scientists</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s4" style="padding-left: 1pt;text-indent: 0pt;line-height: 43pt;text-align: left;">Tutorial Content</p><p style="text-indent: 0pt;text-align: left;"/><p class="s3" style="padding-left: 254pt;text-indent: 0pt;text-align: left;">Reading Data; Selecting and Filtering the Data; Data manipulation,</p><p class="s3" style="padding-left: 254pt;text-indent: 0pt;text-align: left;">sorting, grouping, rearranging</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s3" style="padding-left: 254pt;text-indent: 0pt;text-align: left;">Selecting and Filtering the Data</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s3" style="padding-top: 13pt;padding-left: 250pt;text-indent: 0pt;text-align: left;">Data manipulation</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s3" style="padding-left: 234pt;text-indent: 0pt;text-align: left;">Sorting, grouping, rearranging</p><p style="text-indent: 0pt;text-align: left;"><span><img width="131" height="736" alt="image" src="Lecture%202_files/Image_002.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s5" style="padding-left: 44pt;text-indent: 0pt;line-height: 32pt;text-align: left;">Many popular Python toolboxes/libraries:</p><p style="text-indent: 0pt;text-align: left;"><span><img width="280" height="216" alt="image" src="Lecture%202_files/Image_003.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s6" style="padding-left: 22pt;text-indent: 0pt;text-align: left;">All these libraries are</p><p class="s6" style="padding-left: 22pt;text-indent: 0pt;text-align: left;">installed on the SCC</p><p style="text-indent: 0pt;text-align: left;"/><ul id="l1"><li><p style="padding-left: 98pt;text-indent: -18pt;text-align: left;">NumPy</p></li><li><p style="padding-left: 98pt;text-indent: -18pt;text-align: left;">SciPy</p></li><li><p style="padding-left: 98pt;text-indent: -18pt;text-align: left;">Pandas</p></li><li><p style="padding-left: 98pt;text-indent: -18pt;text-align: left;">SciKit-Learn</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s5" style="padding-left: 44pt;text-indent: 0pt;text-align: left;">Visualization libraries</p></li><li><p style="padding-left: 98pt;text-indent: -18pt;text-align: left;">matplotlib</p></li><li><p style="padding-left: 98pt;text-indent: -18pt;text-align: left;">Seaborn</p></li></ul><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 360pt;text-indent: 0pt;text-align: center;">and many more …</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="180" height="61" alt="NumPy" title="NumPy" src="Lecture%202_files/Image_004.jpg"/></span></p><p class="s7" style="padding-left: 44pt;text-indent: 0pt;line-height: 32pt;text-align: left;">NumPy:</p><ul id="l2"><li><p style="padding-top: 4pt;padding-left: 98pt;text-indent: -18pt;line-height: 94%;text-align: left;">introduces objects for multidimensional arrays and matrices, as well as functions that allow to easily perform advanced mathematical and statistical operations on those objects</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li><p style="padding-left: 98pt;text-indent: -18pt;line-height: 94%;text-align: left;">provides vectorization of mathematical operations on arrays and matrices which significantly improves the performance</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li><p style="padding-left: 98pt;text-indent: -18pt;text-align: left;">many other python libraries are built on NumPy</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 1pt;padding-left: 44pt;text-indent: 0pt;text-align: left;"><a href="http://www.numpy.org/" style=" color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 18pt;" target="_blank">Link: </a><a href="http://www.numpy.org/" target="_blank">http://www.numpy.org/</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="322" height="60" alt="Logo" title="Logo" src="Lecture%202_files/Image_005.jpg"/></span></p><p class="s7" style="padding-left: 44pt;text-indent: 0pt;line-height: 32pt;text-align: left;">Pandas:</p></li><li><p style="padding-top: 4pt;padding-left: 98pt;text-indent: -18pt;line-height: 94%;text-align: left;">adds data structures and tools designed to work with table-like data (similar to Series and Data Frames in R)</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li><p style="padding-left: 98pt;text-indent: -18pt;line-height: 27pt;text-align: left;">provides tools for data manipulation: reshaping, merging, sorting, slicing,</p><p style="padding-left: 98pt;text-indent: 0pt;line-height: 27pt;text-align: left;">aggregation etc.</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li><p style="padding-left: 98pt;text-indent: -18pt;text-align: left;">allows handling missing data</p></li></ul><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 15pt;padding-left: 44pt;text-indent: 0pt;text-align: left;"><a href="http://pandas.pydata.org/" style=" color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 18pt;" target="_blank">Link: </a><a href="http://pandas.pydata.org/" target="_blank">http://pandas.pydata.org/</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="1070" height="203" alt="image" src="Lecture%202_files/Image_006.png"/></span></p><p class="s9" style="padding-top: 13pt;padding-left: 34pt;text-indent: 0pt;text-align: left;">In [ ]:</p><p style="text-indent: 0pt;text-align: left;"/><h3 style="padding-top: 4pt;padding-left: 6pt;text-indent: 0pt;line-height: 106%;text-align: left;"><span class="s10">#Import Python Libraries </span>import <span class="s11">numpy </span>as <span class="s11">np </span>import <span class="s11">scipy </span>as <span class="s11">sp </span>import <span class="s11">pandas </span>as <span class="s11">pd </span>import <span class="s11">matplotlib </span>as <span class="s11">mpl </span>import <span class="s11">seaborn </span>as <span class="s11">sns</span></h3><p style="text-indent: 0pt;text-align: left;"/><p class="s3" style="padding-top: 9pt;padding-left: 56pt;text-indent: 0pt;text-align: left;">Press <span class="s12">Shift+Enter </span>to execute the <i>jupyter </i>cell</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s4" style="padding-left: 44pt;text-indent: 0pt;line-height: 47pt;text-align: left;">Reading data using pandas</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s10" style="padding-top: 4pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">#Read csv file</p><p class="s13" style="padding-top: 1pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">df = pd.read_csv(<span style=" color: #843B0C;">&quot;Salaries.csv&quot;</span>)</p><p style="text-indent: 0pt;text-align: left;"/><p class="s9" style="padding-top: 4pt;padding-left: 31pt;text-indent: 0pt;text-align: left;">In [ ]:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s15" style="padding-top: 1pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">Note: <span class="s16">The above command has many optional arguments to fine-tune the data import process.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s3" style="padding-top: 9pt;padding-left: 30pt;text-indent: 0pt;text-align: left;">There is a number of pandas commands to read other data formats:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s12" style="padding-top: 10pt;padding-left: 30pt;text-indent: 0pt;line-height: 159%;text-align: left;">pd.read_excel(&#39;myfile.xlsx&#39;,sheet_name=&#39;Sheet1&#39;, index_col=None, na_values=[&#39;NA&#39;]) pd.read_stata(&#39;myfile.dta&#39;)</p><p class="s12" style="padding-left: 30pt;text-indent: 0pt;line-height: 159%;text-align: left;">pd.read_sas(&#39;myfile.sas7bdat&#39;) pd.read_hdf(&#39;myfile.h5&#39;,&#39;df&#39;)</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s10" style="padding-top: 4pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">#List first 5 records</p><p class="s11" style="padding-top: 1pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">df.head()</p><p style="text-indent: 0pt;text-align: left;"/><p class="s9" style="padding-top: 5pt;padding-left: 31pt;text-indent: 0pt;text-align: left;">In [3]:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="319" height="167" alt="image" src="Lecture%202_files/Image_007.jpg"/></span></p><p class="s17" style="padding-top: 4pt;padding-left: 31pt;text-indent: 0pt;text-align: left;">Out[3]:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="46" height="45" alt="image" src="Lecture%202_files/Image_008.png"/></span></p><ul id="l3"><li><p style="padding-top: 10pt;padding-left: 79pt;text-indent: -22pt;text-align: left;">Try to read the first 10, 20, 50 records;</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="100" height="70" alt="image" src="Lecture%202_files/Image_009.png"/></span></p></li><li><p style="padding-left: 79pt;text-indent: -22pt;text-align: left;">Can you guess how to view the last few records;      <span class="s18">Hint:</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><table style="border-collapse:collapse;margin-left:37pt" cellspacing="0"><tr style="height:21pt"><td style="width:209pt;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#DDDDDD"><p class="s19" style="padding-left: 4pt;text-indent: 0pt;line-height: 15pt;text-align: left;">Pandas Type</p></td><td style="width:267pt;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#DDDDDD"><p class="s19" style="padding-left: 35pt;text-indent: 0pt;line-height: 15pt;text-align: left;">Native Python Type</p></td><td style="width:245pt;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#DDDDDD"><p class="s19" style="padding-left: 8pt;text-indent: 0pt;line-height: 15pt;text-align: left;">Description</p></td></tr><tr style="height:85pt"><td style="width:209pt;border-top-style:solid;border-top-width:1pt;border-top-color:#DDDDDD;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#DDDDDD" bgcolor="#F8F8F8"><p class="s20" style="padding-top: 4pt;padding-left: 4pt;text-indent: 0pt;text-align: left;">object</p></td><td style="width:267pt;border-top-style:solid;border-top-width:1pt;border-top-color:#DDDDDD;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#DDDDDD" bgcolor="#F8F8F8"><p class="s20" style="padding-top: 4pt;padding-left: 35pt;text-indent: 0pt;text-align: left;">string</p></td><td style="width:245pt;border-top-style:solid;border-top-width:1pt;border-top-color:#DDDDDD;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#DDDDDD" bgcolor="#F8F8F8"><p class="s20" style="padding-top: 4pt;padding-left: 8pt;padding-right: 13pt;text-indent: 0pt;text-align: left;">The most general dtype. Will be assigned to your column if column has mixed types (numbers and strings).</p></td></tr><tr style="height:66pt"><td style="width:209pt;border-top-style:solid;border-top-width:1pt;border-top-color:#DDDDDD;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#DDDDDD"><p class="s20" style="padding-top: 4pt;padding-left: 4pt;text-indent: 0pt;text-align: left;">int64</p></td><td style="width:267pt;border-top-style:solid;border-top-width:1pt;border-top-color:#DDDDDD;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#DDDDDD"><p class="s20" style="padding-top: 4pt;padding-left: 35pt;text-indent: 0pt;text-align: left;">int</p></td><td style="width:245pt;border-top-style:solid;border-top-width:1pt;border-top-color:#DDDDDD;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#DDDDDD"><p class="s20" style="padding-top: 4pt;padding-left: 8pt;padding-right: 15pt;text-indent: 0pt;text-align: left;">Numeric characters. 64 refers to the memory allocated to hold this character.</p></td></tr><tr style="height:104pt"><td style="width:209pt;border-top-style:solid;border-top-width:1pt;border-top-color:#DDDDDD;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#DDDDDD" bgcolor="#F8F8F8"><p class="s20" style="padding-top: 4pt;padding-left: 4pt;text-indent: 0pt;text-align: left;">float64</p></td><td style="width:267pt;border-top-style:solid;border-top-width:1pt;border-top-color:#DDDDDD;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#DDDDDD" bgcolor="#F8F8F8"><p class="s20" style="padding-top: 4pt;padding-left: 35pt;text-indent: 0pt;text-align: left;">float</p></td><td style="width:245pt;border-top-style:solid;border-top-width:1pt;border-top-color:#DDDDDD;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#DDDDDD" bgcolor="#F8F8F8"><p class="s20" style="padding-top: 4pt;padding-left: 8pt;padding-right: 13pt;text-indent: 0pt;text-align: left;">Numeric characters with decimals. If a column contains numbers and NaNs(see below), pandas will default to float64, in case your missing value has a decimal.</p></td></tr><tr style="height:62pt"><td style="width:209pt;border-top-style:solid;border-top-width:1pt;border-top-color:#DDDDDD"><p class="s20" style="padding-top: 4pt;padding-left: 4pt;text-indent: 0pt;text-align: left;">datetime64, timedelta[ns]</p></td><td style="width:267pt;border-top-style:solid;border-top-width:1pt;border-top-color:#DDDDDD"><p class="s20" style="padding-top: 4pt;padding-left: 35pt;text-indent: 0pt;text-align: left;"><a href="http://doc.python.org/2/library/datetime.html" style=" color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 16pt;" target="_blank">N/A (but see the </a><a href="http://doc.python.org/2/library/datetime.html" class="s21" target="_blank">datetime</a><span style=" color: #0462C1; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 16pt;"> </span>module</p><p class="s20" style="padding-left: 35pt;text-indent: 0pt;text-align: left;">in Python’s standard library)</p></td><td style="width:245pt;border-top-style:solid;border-top-width:1pt;border-top-color:#DDDDDD"><p class="s20" style="padding-top: 3pt;padding-left: 8pt;text-indent: 0pt;line-height: 19pt;text-align: left;">Values meant to hold time data. Look into these for time series experiments.</p></td></tr></table><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s10" style="padding-top: 4pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">#Check a particular column type</p><p class="s23" style="padding-top: 1pt;padding-left: 6pt;text-indent: 0pt;text-align: left;"><span style=" color: #3A3838;">df</span>[<span style=" color: #C00000;">&#39;salary&#39;</span>]<span style=" color: #3A3838;">.dtype</span></p><p style="text-indent: 0pt;text-align: left;"/><p class="s9" style="padding-top: 5pt;padding-left: 31pt;text-indent: 0pt;text-align: left;">In [4]:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s17" style="padding-top: 5pt;padding-left: 31pt;text-indent: 0pt;text-align: left;">Out[4]: <span style=" color: #3A3838;">dtype(&#39;int64&#39;)</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s10" style="padding-top: 4pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">#Check types for all the columns</p><p class="s11" style="padding-top: 1pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">df.dtypes</p><p style="text-indent: 0pt;text-align: left;"/><p class="s9" style="padding-left: 31pt;text-indent: 0pt;text-align: left;">In [5]:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s17" style="padding-top: 4pt;padding-left: 30pt;text-indent: 0pt;text-align: left;">Out[4]: <span class="s25">rank</span></p><p class="s3" style="padding-left: 108pt;text-indent: 0pt;text-align: left;">discipline phd service sex salary</p><p class="s3" style="padding-left: 108pt;text-indent: 0pt;text-align: left;">dtype: object</p><p class="s3" style="padding-top: 4pt;padding-left: 24pt;text-indent: 0pt;text-align: left;">object object int64 int64 object int64</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s4" style="padding-left: 44pt;text-indent: 0pt;line-height: 47pt;text-align: left;">Data Frames attributes</p><p class="s3" style="padding-top: 34pt;padding-left: 44pt;text-indent: 0pt;text-align: left;">Python objects have <i>attributes </i>and <i>methods</i>.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><table style="border-collapse:collapse;margin-left:44.049pt" cellspacing="0"><tr style="height:40pt"><td style="width:151pt" bgcolor="#5B9BD4"><p class="s26" style="padding-top: 4pt;padding-left: 7pt;text-indent: 0pt;text-align: left;">df.attribute</p></td><td style="width:513pt" bgcolor="#5B9BD4"><p class="s26" style="padding-top: 4pt;padding-left: 30pt;text-indent: 0pt;text-align: left;">description</p></td></tr><tr style="height:32pt"><td style="width:151pt;border-left-style:solid;border-left-width:1pt;border-left-color:#5B9BD4;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#5B9BD4" bgcolor="#EAEEF7"><p class="s27" style="padding-top: 3pt;padding-left: 7pt;text-indent: 0pt;text-align: left;">dtypes</p></td><td style="width:513pt;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#5B9BD4;border-right-style:solid;border-right-width:1pt;border-right-color:#5B9BD4" bgcolor="#EAEEF7"><p class="s27" style="padding-top: 3pt;padding-left: 29pt;text-indent: 0pt;text-align: left;">list the types of the columns</p></td></tr><tr style="height:32pt"><td style="width:151pt;border-top-style:solid;border-top-width:1pt;border-top-color:#5B9BD4;border-left-style:solid;border-left-width:1pt;border-left-color:#5B9BD4;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#5B9BD4"><p class="s27" style="padding-top: 3pt;padding-left: 7pt;text-indent: 0pt;text-align: left;">columns</p></td><td style="width:513pt;border-top-style:solid;border-top-width:1pt;border-top-color:#5B9BD4;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#5B9BD4;border-right-style:solid;border-right-width:1pt;border-right-color:#5B9BD4"><p class="s27" style="padding-top: 3pt;padding-left: 29pt;text-indent: 0pt;text-align: left;">list the column names</p></td></tr><tr style="height:35pt"><td style="width:151pt;border-top-style:solid;border-top-width:1pt;border-top-color:#5B9BD4;border-left-style:solid;border-left-width:1pt;border-left-color:#5B9BD4;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#5B9BD4" bgcolor="#EAEEF7"><p class="s27" style="padding-top: 3pt;padding-left: 7pt;text-indent: 0pt;text-align: left;">axes</p></td><td style="width:513pt;border-top-style:solid;border-top-width:1pt;border-top-color:#5B9BD4;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#5B9BD4;border-right-style:solid;border-right-width:1pt;border-right-color:#5B9BD4" bgcolor="#EAEEF7"><p class="s27" style="padding-top: 3pt;padding-left: 29pt;text-indent: 0pt;text-align: left;">list the row labels and column names</p></td></tr><tr style="height:36pt"><td style="width:151pt;border-top-style:solid;border-top-width:1pt;border-top-color:#5B9BD4;border-left-style:solid;border-left-width:1pt;border-left-color:#5B9BD4;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#5B9BD4"><p class="s27" style="padding-top: 3pt;padding-left: 7pt;text-indent: 0pt;text-align: left;">ndim</p></td><td style="width:513pt;border-top-style:solid;border-top-width:1pt;border-top-color:#5B9BD4;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#5B9BD4;border-right-style:solid;border-right-width:1pt;border-right-color:#5B9BD4"><p class="s27" style="padding-top: 3pt;padding-left: 29pt;text-indent: 0pt;text-align: left;">number of dimensions</p></td></tr><tr style="height:33pt"><td style="width:151pt;border-top-style:solid;border-top-width:1pt;border-top-color:#5B9BD4;border-left-style:solid;border-left-width:1pt;border-left-color:#5B9BD4;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#5B9BD4" bgcolor="#EAEEF7"><p class="s27" style="padding-top: 3pt;padding-left: 7pt;text-indent: 0pt;text-align: left;">size</p></td><td style="width:513pt;border-top-style:solid;border-top-width:1pt;border-top-color:#5B9BD4;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#5B9BD4;border-right-style:solid;border-right-width:1pt;border-right-color:#5B9BD4" bgcolor="#EAEEF7"><p class="s27" style="padding-top: 3pt;padding-left: 29pt;text-indent: 0pt;text-align: left;">number of elements</p></td></tr><tr style="height:33pt"><td style="width:151pt;border-top-style:solid;border-top-width:1pt;border-top-color:#5B9BD4;border-left-style:solid;border-left-width:1pt;border-left-color:#5B9BD4;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#5B9BD4"><p class="s27" style="padding-top: 3pt;padding-left: 7pt;text-indent: 0pt;text-align: left;">shape</p></td><td style="width:513pt;border-top-style:solid;border-top-width:1pt;border-top-color:#5B9BD4;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#5B9BD4;border-right-style:solid;border-right-width:1pt;border-right-color:#5B9BD4"><p class="s27" style="padding-top: 3pt;padding-left: 29pt;text-indent: 0pt;text-align: left;">return a tuple representing the dimensionality</p></td></tr><tr style="height:33pt"><td style="width:151pt;border-top-style:solid;border-top-width:1pt;border-top-color:#5B9BD4;border-left-style:solid;border-left-width:1pt;border-left-color:#5B9BD4;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#5B9BD4" bgcolor="#EAEEF7"><p class="s27" style="padding-top: 3pt;padding-left: 7pt;text-indent: 0pt;text-align: left;">values</p></td><td style="width:513pt;border-top-style:solid;border-top-width:1pt;border-top-color:#5B9BD4;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#5B9BD4;border-right-style:solid;border-right-width:1pt;border-right-color:#5B9BD4" bgcolor="#EAEEF7"><p class="s27" style="padding-top: 3pt;padding-left: 29pt;text-indent: 0pt;text-align: left;">numpy representation of the data</p></td></tr></table><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="46" height="45" alt="image" src="Lecture%202_files/Image_010.png"/></span></p></li><li><p style="padding-top: 4pt;padding-left: 79pt;text-indent: -22pt;text-align: left;">Find how many records this data frame has;</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li><p style="padding-left: 79pt;text-indent: -22pt;text-align: left;">How many elements are there?</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li><p style="padding-left: 79pt;text-indent: -22pt;text-align: left;">What are the column names?</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li><p style="padding-left: 79pt;text-indent: -22pt;text-align: left;">What types of columns we have in this data frame?</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s3" style="padding-top: 1pt;padding-left: 44pt;text-indent: 0pt;text-align: left;">Unlike attributes, python methods have <i>parenthesis.</i></p><p class="s3" style="padding-left: 44pt;text-indent: 0pt;text-align: left;">All attributes and methods can be listed with a <i>dir() </i>function: <span class="s28">dir(df)</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><table style="border-collapse:collapse;margin-left:44.049pt" cellspacing="0"><tr style="height:47pt"><td style="width:182pt" bgcolor="#5B9BD4"><p class="s26" style="padding-top: 4pt;padding-left: 7pt;text-indent: 0pt;text-align: left;">df.method()</p></td><td style="width:482pt" bgcolor="#5B9BD4"><p class="s26" style="padding-top: 4pt;padding-left: 27pt;text-indent: 0pt;text-align: left;">description</p></td></tr><tr style="height:38pt"><td style="width:182pt;border-left-style:solid;border-left-width:1pt;border-left-color:#5B9BD4;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#5B9BD4" bgcolor="#EAEEF7"><p class="s27" style="padding-top: 3pt;padding-left: 7pt;text-indent: 0pt;text-align: left;">head( [n] ), tail( [n] )</p></td><td style="width:482pt;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#5B9BD4;border-right-style:solid;border-right-width:1pt;border-right-color:#5B9BD4" bgcolor="#EAEEF7"><p class="s27" style="padding-top: 3pt;padding-left: 27pt;text-indent: 0pt;text-align: left;">first/last n rows</p></td></tr><tr style="height:38pt"><td style="width:182pt;border-top-style:solid;border-top-width:1pt;border-top-color:#5B9BD4;border-left-style:solid;border-left-width:1pt;border-left-color:#5B9BD4;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#5B9BD4"><p class="s27" style="padding-top: 3pt;padding-left: 7pt;text-indent: 0pt;text-align: left;">describe()</p></td><td style="width:482pt;border-top-style:solid;border-top-width:1pt;border-top-color:#5B9BD4;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#5B9BD4;border-right-style:solid;border-right-width:1pt;border-right-color:#5B9BD4"><p class="s27" style="padding-top: 3pt;padding-left: 27pt;text-indent: 0pt;text-align: left;">generate descriptive statistics (for numeric columns only)</p></td></tr><tr style="height:41pt"><td style="width:182pt;border-top-style:solid;border-top-width:1pt;border-top-color:#5B9BD4;border-left-style:solid;border-left-width:1pt;border-left-color:#5B9BD4;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#5B9BD4" bgcolor="#EAEEF7"><p class="s27" style="padding-top: 3pt;padding-left: 7pt;text-indent: 0pt;text-align: left;">max(), min()</p></td><td style="width:482pt;border-top-style:solid;border-top-width:1pt;border-top-color:#5B9BD4;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#5B9BD4;border-right-style:solid;border-right-width:1pt;border-right-color:#5B9BD4" bgcolor="#EAEEF7"><p class="s27" style="padding-top: 3pt;padding-left: 27pt;text-indent: 0pt;text-align: left;">return max/min values for all numeric columns</p></td></tr><tr style="height:42pt"><td style="width:182pt;border-top-style:solid;border-top-width:1pt;border-top-color:#5B9BD4;border-left-style:solid;border-left-width:1pt;border-left-color:#5B9BD4;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#5B9BD4"><p class="s27" style="padding-top: 3pt;padding-left: 7pt;text-indent: 0pt;text-align: left;">mean(), median()</p></td><td style="width:482pt;border-top-style:solid;border-top-width:1pt;border-top-color:#5B9BD4;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#5B9BD4;border-right-style:solid;border-right-width:1pt;border-right-color:#5B9BD4"><p class="s27" style="padding-top: 3pt;padding-left: 27pt;text-indent: 0pt;text-align: left;">return mean/median values for all numeric columns</p></td></tr><tr style="height:42pt"><td style="width:182pt;border-top-style:solid;border-top-width:1pt;border-top-color:#5B9BD4;border-left-style:solid;border-left-width:1pt;border-left-color:#5B9BD4;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#5B9BD4" bgcolor="#EAEEF7"><p class="s27" style="padding-top: 3pt;padding-left: 7pt;text-indent: 0pt;text-align: left;">std()</p></td><td style="width:482pt;border-top-style:solid;border-top-width:1pt;border-top-color:#5B9BD4;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#5B9BD4;border-right-style:solid;border-right-width:1pt;border-right-color:#5B9BD4" bgcolor="#EAEEF7"><p class="s27" style="padding-top: 3pt;padding-left: 27pt;text-indent: 0pt;text-align: left;">standard deviation</p></td></tr><tr style="height:39pt"><td style="width:182pt;border-top-style:solid;border-top-width:1pt;border-top-color:#5B9BD4;border-left-style:solid;border-left-width:1pt;border-left-color:#5B9BD4;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#5B9BD4"><p class="s27" style="padding-top: 3pt;padding-left: 7pt;text-indent: 0pt;text-align: left;">sample([n])</p></td><td style="width:482pt;border-top-style:solid;border-top-width:1pt;border-top-color:#5B9BD4;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#5B9BD4;border-right-style:solid;border-right-width:1pt;border-right-color:#5B9BD4"><p class="s27" style="padding-top: 3pt;padding-left: 27pt;text-indent: 0pt;text-align: left;">returns a random sample of the data frame</p></td></tr><tr style="height:39pt"><td style="width:182pt;border-top-style:solid;border-top-width:1pt;border-top-color:#5B9BD4;border-left-style:solid;border-left-width:1pt;border-left-color:#5B9BD4;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#5B9BD4" bgcolor="#EAEEF7"><p class="s27" style="padding-top: 3pt;padding-left: 7pt;text-indent: 0pt;text-align: left;">dropna()</p></td><td style="width:482pt;border-top-style:solid;border-top-width:1pt;border-top-color:#5B9BD4;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#5B9BD4;border-right-style:solid;border-right-width:1pt;border-right-color:#5B9BD4" bgcolor="#EAEEF7"><p class="s27" style="padding-top: 3pt;padding-left: 27pt;text-indent: 0pt;text-align: left;">drop all the records with missing values</p></td></tr></table><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s29" style="padding-left: 52pt;text-indent: 0pt;line-height: 47pt;text-align: left;"><span><img width="46" height="45" alt="image" src="Lecture%202_files/Image_011.png"/></span>       <span class="s30">Hands-on exercises</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li><p style="padding-top: 10pt;padding-left: 79pt;text-indent: -22pt;text-align: left;">Give the summary for the numeric columns in the dataset</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li><p style="padding-left: 79pt;text-indent: -22pt;text-align: left;">Calculate standard deviation for all numeric columns;</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li><p style="padding-left: 79pt;text-indent: -22pt;line-height: 209%;text-align: left;">What are the mean values of the first 50 records in the dataset? <span class="h2">Hint: </span><span style=" color: #7E7E7E;">use head() method to subset the first 50 records and then calculate the mean</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s7" style="padding-left: 184pt;text-indent: -140pt;line-height: 125%;text-align: left;">Method 1: <span class="s5">Subset the data frame using column name: df[&#39;sex&#39;]</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s7" style="padding-left: 184pt;text-indent: -140pt;line-height: 125%;text-align: left;">Method 2<span class="s5">: Use the column name as an attribute: df.sex</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s32" style="padding-left: 44pt;text-indent: 76pt;text-align: left;">Note: <span class="s33">there is an attribute </span>rank <span class="s33">for pandas data frames, so to select a column with a name &quot;rank&quot; we should use method 1.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 57pt;text-indent: 0pt;text-align: left;">Using &quot;group by&quot; method we can:</p><ul id="l4"><li><p style="padding-top: 12pt;padding-left: 120pt;text-indent: -27pt;text-align: left;">Split the data into groups based on some criteria</p></li><li><p style="padding-top: 1pt;padding-left: 120pt;text-indent: -27pt;text-align: left;">Calculate statistics (or apply a function) to each group</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s10" style="padding-top: 4pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">#Group data using rank</p><p class="s23" style="padding-top: 1pt;padding-left: 6pt;text-indent: 0pt;text-align: left;"><span style=" color: #3A3838;">df_rank = df.groupby(</span>[<span style=" color: #C00000;">&#39;rank&#39;</span>])</p><p style="text-indent: 0pt;text-align: left;"/><p class="s9" style="padding-left: 28pt;text-indent: 0pt;text-align: left;">In [ ]:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="325" height="138" alt="image" src="Lecture%202_files/Image_012.jpg"/></span></p><p class="s10" style="padding-top: 4pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">#Calculate mean value for each numeric column per each group</p><p class="s11" style="padding-top: 1pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">df_rank.mean()</p><p style="text-indent: 0pt;text-align: left;"/><p class="s9" style="padding-top: 14pt;padding-left: 28pt;text-indent: 0pt;text-align: left;">In [ ]:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 57pt;text-indent: 0pt;text-align: left;">Once groupby object is create we can calculate various statistics for each group:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s10" style="padding-top: 4pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">#Calculate mean salary for each professor rank:</p><p class="s24" style="padding-top: 1pt;padding-left: 6pt;text-indent: 0pt;text-align: left;"><span style=" color: #3A3838;">df.groupby(</span>&#39;rank&#39;<span style=" color: #000;">)[[</span>&#39;salary&#39;<span style=" color: #000;">]].mean()</span></p><p style="text-indent: 0pt;text-align: left;"/><p class="s9" style="padding-left: 31pt;text-indent: 0pt;text-align: left;">In [ ]:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 104pt;text-indent: 0pt;text-align: left;"><span><img width="178" height="137" alt="image" src="Lecture%202_files/Image_013.jpg"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s34" style="padding-top: 1pt;padding-left: 108pt;text-indent: 0pt;text-align: left;">Note: <span class="s35">If single brackets are used to specify the column (e.g. salary), then the output is Pandas Series object. When double brackets are used the output is a Data Frame</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s36" style="padding-top: 9pt;padding-left: 57pt;text-indent: 0pt;text-align: left;">groupby <span class="p">performance notes:</span></p><ul id="l5"><li><p style="padding-top: 12pt;padding-left: 93pt;text-indent: 0pt;text-align: left;">no grouping/splitting occurs until it&#39;s needed. Creating the <i>groupby </i>object only verifies that you have passed a valid mapping</p></li><li><p style="padding-left: 93pt;text-indent: 0pt;text-align: left;">by default the group keys are sorted during the <i>groupby </i>operation. You may want to pass sort=False for potential speedup:</p></li></ul><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s10" style="padding-top: 4pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">#Calculate mean salary for each professor rank:</p><p class="s12" style="padding-top: 1pt;padding-left: 6pt;text-indent: 0pt;text-align: left;"><span style=" color: #3A3838;">df.groupby([</span><span style=" color: #C00000;">&#39;rank&#39;]</span>, sort=<span style=" color: #538235;">False</span>)[[<span style=" color: #C00000;">&#39;salary&#39;</span>]].mean()</p><p style="text-indent: 0pt;text-align: left;"/><p class="s9" style="padding-left: 31pt;text-indent: 0pt;text-align: left;">In [ ]:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 57pt;text-indent: 0pt;text-align: left;">To subset the data we can apply Boolean indexing. This indexing is commonly known as a filter. For example if we want to subset the rows in which the salary value is greater than $120K:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s10" style="padding-top: 4pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">#Calculate mean salary for each professor rank:</p><p class="s11" style="padding-top: 1pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">df_sub = df[ df[<span style=" color: #C00000;">&#39;salary&#39;] </span><span style=" color: #000;">&gt; 120000 ]</span></p><p style="text-indent: 0pt;text-align: left;"/><p class="s9" style="padding-left: 31pt;text-indent: 0pt;text-align: left;">In [ ]:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 57pt;text-indent: 0pt;text-align: left;">Any Boolean operator can be used to subset the data:</p><p style="padding-top: 1pt;padding-left: 57pt;text-indent: 0pt;text-align: left;">&gt; greater; &gt;= greater or equal;</p><p style="padding-top: 1pt;padding-left: 57pt;text-indent: 0pt;text-align: left;">&lt; less;    &lt;= less or equal;</p><p style="padding-top: 1pt;padding-left: 57pt;text-indent: 0pt;text-align: left;">== equal;   != not equal;</p><p class="s10" style="padding-top: 4pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">#Select only those rows that contain female professors:</p><p class="s24" style="padding-top: 1pt;padding-left: 6pt;text-indent: 0pt;text-align: left;"><span style=" color: #3A3838;">df_f = df[ df[</span>&#39;sex&#39;] <span style=" color: #000;">== </span>&#39;Female&#39; <span style=" color: #000;">]</span></p><p style="text-indent: 0pt;text-align: left;"/><p class="s9" style="padding-top: 14pt;padding-left: 33pt;text-indent: 0pt;text-align: left;">In [ ]:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s37" style="padding-top: 2pt;text-indent: 0pt;text-align: right;">20</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 56pt;text-indent: 0pt;text-align: left;">There are a number of ways to subset the Data Frame:</p><ul id="l6"><li><p style="padding-top: 1pt;padding-left: 119pt;text-indent: -27pt;text-align: left;">one or more columns</p></li><li><p style="padding-top: 1pt;padding-left: 119pt;text-indent: -27pt;text-align: left;">one or more rows</p></li><li><p style="padding-top: 1pt;padding-left: 119pt;text-indent: -27pt;text-align: left;">a subset of rows and columns</p></li></ul><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 92pt;text-indent: 0pt;text-align: left;">Rows and columns can be selected by their position or label</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 56pt;text-indent: 0pt;text-align: left;">When selecting one column, it is possible to use single set of brackets, but the resulting object will be a Series (not a DataFrame):</p><p class="s10" style="padding-top: 4pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">#Select column salary:</p><p class="s12" style="padding-top: 1pt;padding-left: 6pt;text-indent: 0pt;text-align: left;"><span style=" color: #3A3838;">df</span>[<span style=" color: #C00000;">&#39;salary&#39;</span>]</p><p style="text-indent: 0pt;text-align: left;"/><p class="s9" style="padding-top: 17pt;padding-left: 31pt;text-indent: 0pt;text-align: left;">In [ ]:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 55pt;text-indent: 0pt;text-align: left;">When we need to select more than one column and/or make the output to be a DataFrame, we should use double brackets:</p><p class="s10" style="padding-top: 4pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">#Select column salary:</p><p class="s12" style="padding-top: 1pt;padding-left: 6pt;text-indent: 0pt;text-align: left;"><span style=" color: #3A3838;">df</span>[[<span style=" color: #C00000;">&#39;rank&#39;</span>,<span style=" color: #C00000;">&#39;salary&#39;</span>]]</p><p style="text-indent: 0pt;text-align: left;"/><p class="s9" style="padding-top: 17pt;padding-left: 30pt;text-indent: 0pt;text-align: left;">In [ ]:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 56pt;text-indent: 0pt;text-align: left;">If we need to select a range of rows, we can specify the range using &quot;:&quot;</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s10" style="padding-top: 4pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">#Select rows by their position:</p><p class="s12" style="padding-top: 1pt;padding-left: 6pt;text-indent: 0pt;text-align: left;"><span style=" color: #3A3838;">df</span>[<span style=" color: #C00000;">10:20</span>]</p><p style="text-indent: 0pt;text-align: left;"/><p class="s9" style="padding-top: 19pt;padding-left: 31pt;text-indent: 0pt;text-align: left;">In [ ]:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 55pt;text-indent: 0pt;text-align: left;">Notice that the first row has a position 0, and the last value in the range is omitted: So for 0:10 range the first 10 rows are returned with the positions starting with 0 and ending with 9</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 56pt;text-indent: 0pt;text-align: left;">If we need to select a range of rows, using their labels we can use method loc:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="240" height="268" alt="image" src="Lecture%202_files/Image_014.jpg"/></span></p><p class="s10" style="padding-top: 4pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">#Select rows by their labels:</p><p class="s12" style="padding-top: 1pt;padding-left: 6pt;text-indent: 0pt;text-align: left;"><span style=" color: #3A3838;">df_sub.loc</span>[<span style=" color: #538235;">10:20</span><span style=" color: #C00000;">,</span>[<span style=" color: #C00000;">&#39;rank&#39;,&#39;sex&#39;,&#39;salary&#39;</span>]]</p><p style="text-indent: 0pt;text-align: left;"/><p class="s9" style="padding-top: 19pt;padding-left: 31pt;text-indent: 0pt;text-align: left;">In [ ]:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s17" style="padding-top: 13pt;padding-left: 33pt;text-indent: 0pt;text-align: left;">Out[ ]:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 56pt;text-indent: 0pt;text-align: left;">If we need to select a range of rows and/or columns, using their positions we can use method iloc:</p><p class="s10" style="padding-top: 4pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">#Select rows by their labels:</p><p class="s12" style="padding-top: 1pt;padding-left: 6pt;text-indent: 0pt;text-align: left;"><span style=" color: #3A3838;">df_sub.iloc</span>[<span style=" color: #538235;">10:20</span><span style=" color: #C00000;">,</span>[<span style=" color: #538235;">0, 3, 4, 5</span>]]</p><p style="text-indent: 0pt;text-align: left;"/><p class="s9" style="padding-top: 17pt;padding-left: 31pt;text-indent: 0pt;text-align: left;">In [ ]:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="234" height="303" alt="image" src="Lecture%202_files/Image_015.jpg"/></span></p><p class="s17" style="padding-top: 13pt;padding-left: 29pt;text-indent: 0pt;text-align: left;">Out[ ]:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="46" height="45" alt="image" src="Lecture%202_files/Image_016.png"/></span></p></li></ul></li><li><p style="padding-top: 10pt;padding-left: 79pt;text-indent: -22pt;text-align: left;">Calculate the basic statistics for the <i>salary </i>column;</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li><p style="padding-left: 79pt;text-indent: -22pt;text-align: left;">Find how many values in the <i>salary </i>column (use <i>count </i>method);</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li><p style="padding-left: 79pt;text-indent: -22pt;text-align: left;">Calculate the average salary;</p></li></ul><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="1079" height="127" alt="image" src="Lecture%202_files/Image_017.png"/></span></p><p class="s12" style="text-indent: 0pt;line-height: 106%;text-align: left;"><span style=" color: #3A3838;">df.iloc</span>[<span style=" color: #538235;">0</span>] <span style=" color: #3A3838;">df.iloc</span>[<span class="s38">i</span>]</p><p style="text-indent: 0pt;text-align: left;"/><p class="s10" style="text-indent: 0pt;line-height: 106%;text-align: left;"># First row of a data frame #(i+1)th row</p><p style="text-indent: 0pt;text-align: left;"/><p class="s12" style="text-indent: 0pt;text-align: left;"><span style=" color: #3A3838;">df.iloc</span>[<span style=" color: #538235;">-1</span>] <span class="s10"># Last row</span></p><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"><span><img width="1079" height="98" alt="image" src="Lecture%202_files/Image_018.png"/></span></p><p class="s12" style="text-indent: 0pt;text-align: left;"><span style=" color: #3A3838;">df.iloc</span>[:, <span style=" color: #538235;">0</span>]</p><p style="text-indent: 0pt;text-align: left;"/><p class="s10" style="text-indent: 0pt;text-align: left;"># First column</p><p style="text-indent: 0pt;text-align: left;"/><p class="s12" style="text-indent: 0pt;text-align: left;"><span style=" color: #3A3838;">df.iloc</span>[:, <span style=" color: #538235;">-1</span>] <span class="s10"># Last column</span></p><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"><span><img width="1079" height="185" alt="image" src="Lecture%202_files/Image_019.png"/></span></p><p class="s12" style="text-indent: 0pt;line-height: 106%;text-align: left;"><span style=" color: #3A3838;">df.iloc</span>[<span style=" color: #538235;">0:7</span>] <span style=" color: #3A3838;">df.iloc</span>[<span class="s38">:, 0:2</span>]</p><p class="s12" style="text-indent: 0pt;line-height: 20pt;text-align: left;"><span style=" color: #3A3838;">df.iloc</span>[<span class="s38">1:3, 0:2</span>]</p><p style="text-indent: 0pt;text-align: left;"/><p class="s10" style="text-indent: 0pt;text-align: left;">#First 7 rows</p><p class="s10" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">#First 2 columns</p><p class="s10" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">#Second through third rows and first 2 columns</p><p style="text-indent: 0pt;text-align: left;"/><p class="s12" style="text-indent: 0pt;text-align: left;"><span style=" color: #3A3838;">df.iloc</span>[[<span class="s38">0,5</span>]<span class="s38">, </span>[<span class="s38">1,3</span>]]</p><p style="text-indent: 0pt;text-align: left;"/><p class="s39" style="padding-top: 3pt;text-indent: 0pt;line-height: 66%;text-align: left;">#1<span class="s40">st</span></p><p style="text-indent: 0pt;text-align: left;"/><p class="s10" style="text-indent: 0pt;line-height: 21pt;text-align: left;">and 6<span class="s41">th</span><span class="s42"> </span>rows and 2<span class="s41">nd</span><span class="s42"> </span>and 4<span class="s41">th</span><span class="s42"> </span>columns</p><p style="text-indent: 0pt;text-align: left;"/><p class="s4" style="padding-left: 44pt;text-indent: 0pt;line-height: 47pt;text-align: left;">Data Frames: method iloc (summary)</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 56pt;text-indent: 0pt;text-align: left;">We can sort the data by a value in the column. By default the sorting will occur in ascending order and a new data frame is return.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s10" style="padding-top: 4pt;padding-left: 6pt;text-indent: 0pt;text-align: left;"># Create a new data frame from the original sorted by the column Salary</p><p class="s12" style="padding-top: 1pt;padding-left: 6pt;text-indent: 0pt;line-height: 106%;text-align: left;"><span style=" color: #3A3838;">df_sorted = df</span>.sort_values( by <span style=" color: #538235;">=</span><span style=" color: #C00000;">&#39;service&#39;</span>) df_sorted.head()</p><p style="text-indent: 0pt;text-align: left;"/><p class="s9" style="padding-left: 31pt;text-indent: 0pt;text-align: left;">In [ ]:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="354" height="166" alt="image" src="Lecture%202_files/Image_020.jpg"/></span></p><p class="s17" style="padding-top: 13pt;padding-left: 33pt;text-indent: 0pt;text-align: left;">Out[ ]:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 56pt;text-indent: 0pt;text-align: left;">We can sort the data using 2 or more columns:</p><p class="s43" style="padding-top: 4pt;padding-left: 6pt;text-indent: 0pt;text-align: left;"><span style=" color: #3A3838;">df_sorted = df</span>.sort_values( by <span style=" color: #538235;">=[</span><span style=" color: #C00000;">&#39;service&#39;</span>, <span style=" color: #C00000;">&#39;salary</span>&#39;], ascending = [<span class="h4">True</span>, <span class="h4">False</span>])</p><p class="s12" style="padding-top: 1pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">df_sorted.head(<span style=" color: #538235;">10</span>)</p><p style="text-indent: 0pt;text-align: left;"/><p class="s9" style="padding-top: 19pt;padding-left: 9pt;text-indent: 0pt;text-align: left;">In [ ]:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="361" height="303" alt="image" src="Lecture%202_files/Image_021.jpg"/></span></p><p class="s17" style="padding-top: 13pt;padding-left: 11pt;text-indent: 0pt;text-align: left;">Out[ ]:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="904" height="167" alt="image" src="Lecture%202_files/Image_022.jpg"/></span></p><p style="padding-left: 56pt;text-indent: 0pt;text-align: left;">Missing values are marked as NaN</p><p style="text-indent: 0pt;text-align: left;"><br/></p><table style="border-collapse:collapse;margin-left:5.58pt" cellspacing="0"><tr style="height:46pt"><td style="width:46pt"><p class="s45" style="padding-top: 6pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">In [</p></td><td style="width:26pt;border-right-style:solid;border-right-width:1pt;border-right-color:#D0CECE"><p class="s45" style="padding-top: 6pt;padding-left: 4pt;text-indent: 0pt;text-align: center;">]:</p></td><td style="width:839pt;border-top-style:solid;border-top-width:1pt;border-top-color:#D0CECE;border-left-style:solid;border-left-width:1pt;border-left-color:#D0CECE;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#D0CECE;border-right-style:solid;border-right-width:1pt;border-right-color:#D0CECE"><p class="s47" style="padding-top: 4pt;padding-left: 7pt;padding-right: 483pt;text-indent: 0pt;line-height: 106%;text-align: left;"><span style=" color: #538235;"># Read a dataset with missing values </span>flights = pd.read_csv(<span style=" color: #C00000;">&quot;flights.csv&quot;</span>)</p></td></tr><tr style="height:25pt"><td style="width:46pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:26pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:839pt;border-top-style:solid;border-top-width:1pt;border-top-color:#D0CECE;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#D0CECE"><p style="text-indent: 0pt;text-align: left;"><br/></p></td></tr><tr style="height:46pt"><td style="width:46pt"><p class="s45" style="padding-top: 6pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">In [</p></td><td style="width:26pt;border-right-style:solid;border-right-width:1pt;border-right-color:#D0CECE"><p class="s45" style="padding-top: 6pt;padding-left: 1pt;text-indent: 0pt;text-align: center;">]:</p></td><td style="width:839pt;border-top-style:solid;border-top-width:1pt;border-top-color:#D0CECE;border-left-style:solid;border-left-width:1pt;border-left-color:#D0CECE;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#D0CECE;border-right-style:solid;border-right-width:1pt;border-right-color:#D0CECE"><p class="s46" style="padding-top: 4pt;padding-left: 6pt;padding-right: 312pt;text-indent: 0pt;line-height: 106%;text-align: left;"># Select the rows that have at least one missing value <span style=" color: #3A3838;">flights[flights.isnull().any(axis=1)].head()</span></p></td></tr><tr style="height:38pt"><td style="width:46pt"><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-left: 3pt;text-indent: 0pt;line-height: 17pt;text-align: left;">Out[</p></td><td style="width:26pt"><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-left: 4pt;text-indent: 0pt;line-height: 17pt;text-align: center;">]:</p></td><td style="width:839pt;border-top-style:solid;border-top-width:1pt;border-top-color:#D0CECE"><p style="text-indent: 0pt;text-align: left;"><br/></p></td></tr></table><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 56pt;text-indent: 0pt;text-align: left;">There are a number of methods to deal with missing values in the data frame:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><table style="border-collapse:collapse;margin-left:44.049pt" cellspacing="0"><tr style="height:47pt"><td style="width:200pt" bgcolor="#5B9BD4"><p class="s26" style="padding-top: 4pt;padding-left: 7pt;text-indent: 0pt;text-align: left;">df.method()</p></td><td style="width:464pt" bgcolor="#5B9BD4"><p class="s26" style="padding-top: 4pt;padding-left: 9pt;text-indent: 0pt;text-align: left;">description</p></td></tr><tr style="height:38pt"><td style="width:200pt;border-left-style:solid;border-left-width:1pt;border-left-color:#5B9BD4;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#5B9BD4" bgcolor="#EAEEF7"><p class="s27" style="padding-top: 3pt;padding-left: 7pt;text-indent: 0pt;text-align: left;">dropna()</p></td><td style="width:464pt;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#5B9BD4;border-right-style:solid;border-right-width:1pt;border-right-color:#5B9BD4" bgcolor="#EAEEF7"><p class="s27" style="padding-top: 3pt;padding-left: 9pt;text-indent: 0pt;text-align: left;">Drop missing observations</p></td></tr><tr style="height:38pt"><td style="width:200pt;border-top-style:solid;border-top-width:1pt;border-top-color:#5B9BD4;border-left-style:solid;border-left-width:1pt;border-left-color:#5B9BD4;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#5B9BD4"><p class="s27" style="padding-top: 3pt;padding-left: 7pt;text-indent: 0pt;text-align: left;">dropna(how=&#39;all&#39;)</p></td><td style="width:464pt;border-top-style:solid;border-top-width:1pt;border-top-color:#5B9BD4;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#5B9BD4;border-right-style:solid;border-right-width:1pt;border-right-color:#5B9BD4"><p class="s27" style="padding-top: 3pt;padding-left: 9pt;text-indent: 0pt;text-align: left;">Drop observations where all cells is NA</p></td></tr><tr style="height:41pt"><td style="width:200pt;border-top-style:solid;border-top-width:1pt;border-top-color:#5B9BD4;border-left-style:solid;border-left-width:1pt;border-left-color:#5B9BD4;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#5B9BD4" bgcolor="#EAEEF7"><p class="s27" style="padding-top: 3pt;padding-left: 7pt;text-indent: 0pt;text-align: left;">dropna(axis=1, how=&#39;all&#39;)</p></td><td style="width:464pt;border-top-style:solid;border-top-width:1pt;border-top-color:#5B9BD4;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#5B9BD4;border-right-style:solid;border-right-width:1pt;border-right-color:#5B9BD4" bgcolor="#EAEEF7"><p class="s27" style="padding-top: 3pt;padding-left: 9pt;text-indent: 0pt;text-align: left;">Drop column if all the values are missing</p></td></tr><tr style="height:42pt"><td style="width:200pt;border-top-style:solid;border-top-width:1pt;border-top-color:#5B9BD4;border-left-style:solid;border-left-width:1pt;border-left-color:#5B9BD4;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#5B9BD4"><p class="s27" style="padding-top: 3pt;padding-left: 7pt;text-indent: 0pt;text-align: left;">dropna(thresh = 5)</p></td><td style="width:464pt;border-top-style:solid;border-top-width:1pt;border-top-color:#5B9BD4;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#5B9BD4;border-right-style:solid;border-right-width:1pt;border-right-color:#5B9BD4"><p class="s27" style="padding-top: 3pt;padding-left: 9pt;text-indent: 0pt;text-align: left;">Drop rows that contain less than 5 non-missing values</p></td></tr><tr style="height:42pt"><td style="width:200pt;border-top-style:solid;border-top-width:1pt;border-top-color:#5B9BD4;border-left-style:solid;border-left-width:1pt;border-left-color:#5B9BD4;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#5B9BD4" bgcolor="#EAEEF7"><p class="s27" style="padding-top: 3pt;padding-left: 7pt;text-indent: 0pt;text-align: left;">fillna(0)</p></td><td style="width:464pt;border-top-style:solid;border-top-width:1pt;border-top-color:#5B9BD4;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#5B9BD4;border-right-style:solid;border-right-width:1pt;border-right-color:#5B9BD4" bgcolor="#EAEEF7"><p class="s27" style="padding-top: 3pt;padding-left: 9pt;text-indent: 0pt;text-align: left;">Replace missing values with zeros</p></td></tr><tr style="height:39pt"><td style="width:200pt;border-top-style:solid;border-top-width:1pt;border-top-color:#5B9BD4;border-left-style:solid;border-left-width:1pt;border-left-color:#5B9BD4;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#5B9BD4"><p class="s27" style="padding-top: 3pt;padding-left: 7pt;text-indent: 0pt;text-align: left;">isnull()</p></td><td style="width:464pt;border-top-style:solid;border-top-width:1pt;border-top-color:#5B9BD4;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#5B9BD4;border-right-style:solid;border-right-width:1pt;border-right-color:#5B9BD4"><p class="s27" style="padding-top: 3pt;padding-left: 9pt;text-indent: 0pt;text-align: left;">returns True if the value is missing</p></td></tr><tr style="height:39pt"><td style="width:200pt;border-top-style:solid;border-top-width:1pt;border-top-color:#5B9BD4;border-left-style:solid;border-left-width:1pt;border-left-color:#5B9BD4;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#5B9BD4" bgcolor="#EAEEF7"><p class="s27" style="padding-top: 3pt;padding-left: 7pt;text-indent: 0pt;text-align: left;">notnull()</p></td><td style="width:464pt;border-top-style:solid;border-top-width:1pt;border-top-color:#5B9BD4;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#5B9BD4;border-right-style:solid;border-right-width:1pt;border-right-color:#5B9BD4" bgcolor="#EAEEF7"><p class="s27" style="padding-top: 3pt;padding-left: 9pt;text-indent: 0pt;text-align: left;">Returns True for non-missing values</p></td></tr></table><p style="text-indent: 0pt;text-align: left;"><br/></p><ul id="l7"><li><p style="padding-top: 4pt;padding-left: 83pt;text-indent: -27pt;text-align: left;">When summing the data, missing values will be treated as zero</p></li><li><p style="padding-top: 1pt;padding-left: 83pt;text-indent: -27pt;text-align: left;">If all values are missing, the sum will be equal to NaN</p></li><li><p style="padding-top: 1pt;padding-left: 83pt;text-indent: -27pt;text-align: left;">cumsum() and cumprod() methods ignore missing values but preserve them in the resulting arrays</p></li><li><p style="padding-left: 83pt;text-indent: -27pt;text-align: left;">Missing values in GroupBy method are excluded (just like in R)</p></li><li><p style="padding-top: 1pt;padding-left: 83pt;text-indent: -27pt;text-align: left;">Many descriptive statistics methods have <i>skipna </i>option to control if missing data should be excluded . This value is set to <i>True </i>by default (unlike R)</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 56pt;text-indent: 0pt;text-align: left;">Aggregation - computing a summary statistic about each group, i.e.</p><ul id="l8"><li><p style="padding-top: 1pt;padding-left: 119pt;text-indent: -27pt;text-align: left;">compute group sums or means</p></li><li><p style="padding-top: 1pt;padding-left: 56pt;text-indent: 36pt;line-height: 209%;text-align: left;">compute group sizes/counts Common aggregation functions:</p></li></ul></li></ul><p style="padding-left: 92pt;text-indent: 0pt;line-height: 27pt;text-align: left;">min, max</p><p style="padding-top: 1pt;padding-left: 92pt;text-indent: 0pt;text-align: left;">count, sum, prod</p><p style="padding-top: 1pt;padding-left: 92pt;text-indent: 0pt;text-align: left;">mean, median, mode, mad std, var</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 56pt;text-indent: 0pt;text-align: left;">agg() method are useful when multiple statistics are computed per column:</p><p class="s13" style="padding-top: 4pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">flights[[<span style=" color: #C00000;">&#39;dep_delay&#39;</span>,<span style=" color: #C00000;">&#39;arr_delay&#39;</span>]].agg([<span style=" color: #C00000;">&#39;min&#39;</span>,<span style=" color: #C00000;">&#39;mean&#39;</span>,<span style=" color: #C00000;">&#39;max&#39;</span>])</p><p style="text-indent: 0pt;text-align: left;"/><p class="s9" style="padding-top: 19pt;padding-left: 9pt;text-indent: 0pt;text-align: left;">In [ ]:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="259" height="135" alt="image" src="Lecture%202_files/Image_023.jpg"/></span></p><p class="s17" style="padding-top: 4pt;padding-left: 8pt;text-indent: 0pt;text-align: left;">Out[ ]:</p></body></html>
